<UserControl x:Class="CutterManagement.UI.Desktop.InfoUpdatesItemControl" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:CutterManagement.UI.Desktop"
             MinHeight="100" d:DesignWidth="800"
             mc:Ignorable="d">

    <Grid x:Name="MainControl" HorizontalAlignment="Stretch"
          Background="{DynamicResource BackgroundColorBrush1}">

        <!--  dropshadow effect  -->
        <Grid.Effect>
            <DropShadowEffect BlurRadius="14" ShadowDepth="0"
                              Opacity="0.25" />
        </Grid.Effect>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Padding="10,12">

            <Grid>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" HorizontalAlignment="Left"
                           VerticalAlignment="Center" d:Text="Title: Lorem ipsum dolor sit amet"
                           Text="{Binding Title, StringFormat=Title: {0}}"
                           FontFamily="{StaticResource RobotoFlexRegular}"
                           FontWeight="Black"
                           FontSize="{StaticResource Small}"
                           Foreground="{DynamicResource ForegroundColorBrush3}" />
                <TextBlock Grid.Column="1" Margin="10,0"
                           HorizontalAlignment="Right" d:Text="Author: Malachy Okwute"
                           Text="{Binding Author, StringFormat=Author: {0}}"
                           FontFamily="{StaticResource RobotoFlexRegular}"
                           FontSize="{StaticResource Small}"
                           Foreground="{DynamicResource ForegroundColorBrush3}" />

                <Separator Grid.Column="2" Background="{DynamicResource BorderColorBrush6}">
                    <Separator.LayoutTransform>
                        <RotateTransform Angle="90" />
                    </Separator.LayoutTransform>
                </Separator>

                <TextBlock Grid.Column="3" Margin="10,0"
                           HorizontalAlignment="Right" d:Text="Date published: 6-29-2025 ~ 09:55 AM"
                           Text="{Binding PublishDate, StringFormat=Date published: {0}}"
                           FontFamily="{StaticResource RobotoFlexRegular}"
                           FontSize="{StaticResource Small}"
                           Foreground="{DynamicResource ForegroundColorBrush3}" />
            </Grid>
        </Border>

        <Border Grid.Row="1" MinHeight="100"
                Padding="10,6" BorderThickness="0,1"
                BorderBrush="{DynamicResource BorderColorBrush6}">

            <Grid>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!--  information  -->
                <Border Grid.Column="0" Margin="0,0,6,0"
                        HorizontalAlignment="Stretch">

                    <TextBlock d:Text="   Lorem ipsum dolor sit amet. Id quisquam iure nam exercitationem provident eos quae molestiae et molestiae aperiam. In accusantium ratione aut ipsum ratione ut ullam dolorem qui repellat accusamus ut alias molestiae.  In possimus culpa et illum expedita in eaque consequuntur ut voluptas odit. Ut blanditiis quos eum voluptatem placeat est dolorem omnis eos temporibus facere qui assumenda impedit non error sequi ab incidunt dolorem. Id mollitia dolorem ab ipsam quia a temporibus rerum ut enim dolores.  Aut veritatis voluptates et repellendus totam aut voluptatum natus et vitae minima sed inventore assumenda sed expedita reprehenderit. In ullam distinctio est delectus facere cum omnis praesentium eum suscipit ullam sed quia labore sed Quis tempora ut voluptas placeat. "
                               Text="{Binding Information, UpdateSourceTrigger=PropertyChanged}"
                               TextTrimming="CharacterEllipsis" TextWrapping="Wrap"
                               FontFamily="{StaticResource RobotoFlexRegular}"
                               FontSize="{StaticResource Small}"
                               Foreground="{DynamicResource ForegroundColorBrush3}" />
                </Border>

                <!--  new moves applied  -->
                <Border Grid.Column="1" Width="350"
                        Padding="12,4" VerticalAlignment="Top"
                        d:Visibility="Collapsed"
                        Visibility="{Binding HasAttachedMoves, Converter={local:BooleanToVisibilityConverter}}">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!--  part type and number  -->
                        <Border Grid.Row="0" Grid.Column="0"
                                Grid.ColumnSpan="3" HorizontalAlignment="Stretch"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">

                            <Grid>

                                <TextBlock Margin="25,10" HorizontalAlignment="Left"
                                           d:Text="Part Type: Ring"
                                           Text="{Binding Kind, StringFormat=Part Type: {0}}"
                                           FontFamily="{StaticResource RobotoFlexRegular}"
                                           FontSize="{StaticResource Small}"
                                           Foreground="{DynamicResource ForegroundColorBrush3}" />
                                <TextBlock Margin="25,10" HorizontalAlignment="Right"
                                           d:Text="Part Number: 10002000"
                                           Text="{Binding PartNumber, StringFormat=Part Number: {0}}"
                                           FontFamily="{StaticResource RobotoFlexRegular}"
                                           FontSize="{StaticResource Small}"
                                           Foreground="{DynamicResource ForegroundColorBrush3}" />
                            </Grid>
                        </Border>

                        <Border Grid.Row="1" Grid.Column="0"
                                Background="{DynamicResource BackgroundColorBrush7}" />

                        <!--#region applied moves-->

                        <Border Grid.Row="1" Grid.Column="1"
                                Padding="10,0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">

                            <TextBlock VerticalAlignment="Center" Text="Coast"
                                       TextTrimming="CharacterEllipsis" TextWrapping="Wrap"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />
                        </Border>

                        <Border Grid.Row="1" Grid.Column="2"
                                Padding="10,0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">

                            <TextBlock VerticalAlignment="Center" Text="Drive"
                                       TextTrimming="CharacterEllipsis" TextWrapping="Wrap"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />
                        </Border>

                        <Border Grid.Row="2" Grid.Column="0"
                                Padding="0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center"
                                       Text="Pressure angle" TextTrimming="CharacterEllipsis"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />

                        </Border>

                        <Border Grid.Row="3" Grid.Column="0"
                                Padding="8,0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">
                            <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                                       Text="Spiral angle" TextTrimming="CharacterEllipsis"
                                       TextWrapping="Wrap"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />
                        </Border>

                        <Border Grid.Row="2" Grid.Column="1"
                                Padding="10,0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">

                            <TextBlock VerticalAlignment="Center"
                                       Text="{Binding PressureAngleCoast}"
                                       TextTrimming="CharacterEllipsis" TextWrapping="Wrap"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />
                        </Border>

                        <Border Grid.Row="2" Grid.Column="2"
                                Padding="10,0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">

                            <TextBlock VerticalAlignment="Center"
                                       Text="{Binding PressureAngleDrive}"
                                       TextTrimming="CharacterEllipsis" TextWrapping="Wrap"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />
                        </Border>

                        <Border Grid.Row="3" Grid.Column="1"
                                Padding="10,0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">

                            <TextBlock VerticalAlignment="Center"
                                       Text="{Binding SpiralAngleCoast}"
                                       TextTrimming="CharacterEllipsis" TextWrapping="Wrap"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />
                        </Border>

                        <Border Grid.Row="3" Grid.Column="2"
                                Padding="10,0"
                                BorderBrush="{DynamicResource BorderColorBrush5}"
                                BorderThickness="1">

                            <TextBlock VerticalAlignment="Center"
                                       Text="{Binding SpiralAngleDrive}"
                                       TextTrimming="CharacterEllipsis" TextWrapping="Wrap"
                                       FontFamily="{StaticResource RobotoFlexRegular}"
                                       FontSize="{StaticResource Small}"
                                       Foreground="{DynamicResource ForegroundColorBrush3}" />
                        </Border>

                        <!--#endregion-->

                    </Grid>
                </Border>

            </Grid>
        </Border>

        <Grid Grid.Row="2" Margin="10,4">
            <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                       d:Text="Last updated: 6-30-2025 ~ 09:30 AM"
                       Text="{Binding LastUpdatedDate, StringFormat=Last updated: {0}}"
                       FontFamily="{StaticResource RobotoFlexRegular}"
                       FontSize="{StaticResource Small}"
                       Foreground="{DynamicResource ForegroundColorBrush2}" />

            <StackPanel HorizontalAlignment="Right" VerticalAlignment="Center"
                        Orientation="Horizontal">
                <Button Width="{Binding RelativeSource={RelativeSource Self}, Path=Height}"
                        Margin="4"
                        Content="{StaticResource EditIcon}"
                        FontSize="{StaticResource Small}"
                        Foreground="{DynamicResource ForegroundColorBrush3}"
                        FontFamily="{StaticResource RegularIcon}"
                        Command="{Binding DataContext.EditInfoUpdateCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                        CommandParameter="{Binding Id}"
                        Style="{StaticResource MachineOptionsPopupStyle}" />
                <Button Width="{Binding RelativeSource={RelativeSource Self}, Path=Height}"
                        Margin="4"
                        Content="{StaticResource TrashIcon}"
                        FontSize="{StaticResource Small}"
                        Foreground="{DynamicResource ForegroundColorBrush5}"
                        FontFamily="{StaticResource RegularIcon}"
                        Command="{Binding DataContext.DeleteInfoUpdateCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                        CommandParameter="{Binding Id}"
                        Style="{StaticResource MachineOptionsPopupStyle}" />

            </StackPanel>

        </Grid>

    </Grid>
</UserControl>
